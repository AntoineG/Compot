{% extends '::admin.html.twig' %}

{% block content %}

	<h1>Phrase list</h1>

	<table class="records_list">
	    <thead>
	        <tr>
	            <th>Id</th>
	            <th>Content</th>
				<th>Tags</th>
				<th>Random Tags</th>
	            <th>Actions</th>
	        </tr>
	    </thead>
	    <tbody>
	    {% for entity in entities %}
	        <tr>
	            <td><a href="{{ path('admin_phrase_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
				<td>{{ entity.content|truncate(20) }}</td>
				<td>{{ entity.tags|length }}</td>
				<td>
					{% set nbRandoms = 0 %}
					{% for tag in entity.tags %}
						{% set nbRandoms = nbRandoms + tag.randoms|length %}
					{% endfor %}
					{{ nbRandoms }}
				</td>
	            <td>
	                <ul>
	                    <li>
	                        <a href="{{ path('admin_phrase_show', { 'id': entity.id }) }}">show</a>
	                    </li>
	                    <li>
	                        <a href="{{ path('admin_phrase_edit', { 'id': entity.id }) }}">edit</a>
	                    </li>
	                </ul>
	            </td>
	        </tr>
	    {% endfor %}
	    </tbody>
	</table>

	<ul>
	    <li>
	        <a href="{{ path('admin_phrase_new') }}">
	            Create a new entry
	        </a>
	    </li>
	</ul>
{% endblock %}